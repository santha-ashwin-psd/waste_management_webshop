{#{% extends "templates/web.html" %}

{% block title %} {{ _("Shopping Cart") }} {% endblock %}

{% block header %}<h3 class="shopping-cart-header mt-20 mb-6">{{ _("Shopping Cart") }}</h1>{% endblock %}

{% block header_actions %}
{% endblock %}

{% block page_content %}

{% from "templates/includes/macros.html" import item_name_and_description %}

{% if doc.items %}
<div class="cart-container">
	<div class="row m-0">
		<!-- Left section -->
		<div class="col-md-8">
			<div class="frappe-card p-5 mb-4">
				<div id="cart-error" class="alert alert-danger" style="display: none;"></div>
				<div class="cart-items-header">
					{{ _('Items') }}
				</div>
				<table class="table mt-3 cart-table">
					<thead>
						<tr>
							<th class="item-column">{{ _('Item') }}</th>
							<th width="20%">{{ _('Quantity') }}</th>
							{% if cart_settings.enable_checkout or cart_settings.show_price_in_quotation %}
								<th width="20" class="text-right column-sm-view">{{ _('Subtotal') }}</th>
							{% endif %}
							<th width="10%" class="column-sm-view"></th>
						</tr>
					</thead>
					<tbody class="cart-items">
						{% include "templates/includes/cart/cart_items.html" %}
					</tbody>

					{% if cart_settings.enable_checkout or cart_settings.show_price_in_quotation %}
						<tfoot class="cart-tax-items">
							{% include "templates/includes/cart/cart_items_total.html" %}
						</tfoot>
					{% endif %}
				</table>

				<div class="row mt-2">
					<div class="col-3">
						{% if cart_settings.enable_checkout %}
							<a class="btn btn-primary-light font-md" href="/orders">
								{{ _('Past Orders') }}
							</a>
						{% else %}
							<a class="btn btn-primary-light font-md" href="/quotations">
								{{ _('Past Quotes') }}
							</a>
						{% endif %}
					</div>
					<div class="col-9">
						{% if doc.items %}
						<div class="place-order-container">
							<a class="btn btn-primary-light mr-2 font-md" href="/all-products">
								{{ _('Continue Shopping') }}
							</a>
						</div>
						{% endif %}
					</div>
				</div>
			</div>

			<!-- Terms and Conditions -->
			{% if doc.items %}
				{% if doc.terms %}
					<div class="t-and-c-container mt-4 frappe-card">
						<h5>{{ _("Terms and Conditions") }}</h5>
						<div class="t-and-c-terms mt-2">
							{{ doc.terms }}
						</div>
					</div>
				{% endif %}
		</div>

		<!-- Right section -->
		<div class="col-md-4">
			<div class="cart-payment-addresses">
				<!-- Apply Coupon Code  -->
				{% set show_coupon_code = cart_settings.show_apply_coupon_code_in_website and cart_settings.enable_checkout %}
				{% set coupon_code = doc.coupon_code if doc.coupon_code else "" %}

				{% if show_coupon_code == 1%}
					{% if coupon_code %}
						{% include "templates/includes/cart/coupon_code.html" %}
					{% else %}
					<div class="mb-3">
						<div class="d-flex w-100">
							<input type="text" class="txtcoupon form-control mr-3 flex-grow-1 font-md" placeholder="{{ _("Enter coupon code") }}" name="txtcouponcode"  ></input>
							<button class="btn btn-secondary btn-sm bt-coupon font-md flex-shrink-0">{{ _("Apply") }}</button>
							<input type="hidden" class="txtreferral_sales_partner font-md" placeholder="Enter Sales Partner" name="txtreferral_sales_partner" type="text"></input>
							</div>
					</div>
					{% endif %}
				{% endif %}

				<div class="mb-3 frappe-card p-5">
					<div class="payment-summary">
						{% include "templates/includes/cart/cart_payment_summary.html" %}
					</div>

					<div class="place-order">
						{% include "templates/includes/cart/place_order.html" %}
					</div>
				</div>

				{% include "templates/includes/cart/cart_address.html" %}
			</div>
		</div>
		{% endif %}
	</div>
</div>
{% else %}
<div class="cart-empty frappe-card">
	<div class="cart-empty-state">
		<img src="/assets/webshop_waste/images/cart-empty-state.png" alt="Empty State">
	</div>
	<div class="cart-empty-message mt-4">{{ _('Your cart is Empty') }}</p>
	{% if cart_settings.enable_checkout %}
		<a class="btn btn-outline-primary" href="/orders" style="font-size: 16px;">
			{{ _('See past orders') }}
		</a>
		{% else %}
		<a class="btn btn-outline-primary" href="/quotations" style="font-size: 16px;">
			{{ _('See past quotations') }}
		</a>
	{% endif %}
</div>
{% endif %}

{% endblock %}

{% block base_scripts %}
<!-- js should be loaded in body! -->
{{ include_script("frappe-web.bundle.js") }}
{{ include_script("controls.bundle.js") }}
{{ include_script("dialog.bundle.js") }}
{% endblock %}#}

{% extends "templates/web.html" %}

{% block title %} {{ _("Shopping Cart") }} {% endblock %}

{% block header %}
<style>
.amazon-banner {
    background-color: #3b455a;
    color: #ffffff;
    padding: 0.8rem 0;
    border-bottom: 1px solid #ddd;
}

.amazon-breadcrumb {
    font-size: 0.875rem;
    color: #555;
    margin-bottom: 0.5rem;
}

.amazon-breadcrumb a {
    color: #ffffff;
    text-decoration: none;
}

.amazon-breadcrumb a:hover {
    text-decoration: underline;
}

.amazon-breadcrumb span {
    margin: 0 6px;
    color: #555;
}

.amazon-banner-title {
    color: #242c3b;
    font-size: 2.75rem;
    font-weight: 600;
    margin: 0;
}
</style>

<!-- <section class="amazon-banner mb-4">
    <div class="container-fluid">
        <nav class="amazon-breadcrumb">
            <a href="/">Home</a> <span>â€º</span> <a href="/all-products">All Products</a>
        </nav>
        
    </div>
</section> -->
<div class="container-fluid " style="margin-top: 100px;
    padding-left: 60px;">
<h1 class="amazon-banner-title pb-3">{{ _("Shopping Cart") }}</h1>
</div>
{% endblock %}

{% block header_actions %}
{% endblock %}

{% block page_content %}

{% from "templates/includes/macros.html" import item_name_and_description %}

{% if doc.items %}
<div class="row">
	<div class="cart-container container bg-white p-4 col-md-8 col-12 rounded shadow" style="margin-left: 40px;margin-right: 20px;">
		<div class="row m-0">
			<!-- Left section -->
			<div class="col-md-12">
				<div class="frappe-card" style="border:0 !important;">
					<div id="cart-error" class="alert alert-danger" style="display: none;"></div>
					<div class="cart-items-header text-purple" style="font-size:xx-large">
						{{ _('Cart Products List') }}
					</div>
					<table class="table mt-3 cart-table ">
						<thead class="d-none">
							<tr>
								<th class="item-column" style="text-align:center;">{{ _('Item') }}</th>
								<th width="20%" style="text-align:center;">{{ _('Quantity') }}</th>
								{% if cart_settings.enable_checkout or cart_settings.show_price_in_quotation %}
									<th width="20" class=" column-sm-view" style="text-align:center;">{{ _('Subtotal') }}</th>
								{% endif %}
								<!--<th width="10%" class="column-sm-view" style="text-align:center;"></th>-->
							</tr>
						</thead>
						<tbody class="cart-items">
							{% include "templates/includes/cart/cart_items.html" %}
						</tbody>

						{% if cart_settings.enable_checkout or cart_settings.show_price_in_quotation %}
							<tfoot class="cart-tax-items">
								{% include "templates/includes/cart/cart_items_total.html" %}
							</tfoot>
						{% endif %}
					</table>

					<div class="row mt-2">
						<div class="col-3">
							{% if cart_settings.enable_checkout %}
								<a class="btn btn-primary-light font-md" href="/orders" style="background-color: #f8f9fa; border-color: #ced4da; color: rgb(245, 164, 37);">
									{{ _('Past Orders') }}
								</a>
							{% else %}
								<a class="btn btn-primary-light font-md" href="/quotations" style="background-color: #f8f9fa; border-color: #ced4da; color: rgb(245, 164, 37);">
									{{ _('Past Quotes') }}
								</a>
							{% endif %}
						</div>
						<div class="col-9">
							{% if doc.items %}
							<div class="place-order-container">
								<a class="btn btn-primary-light mr-2 font-md" href="/all-products" style="background-color: #f8f9fa; border-color: #ced4da; color: rgb(245, 164, 37);">
									{{ _('Continue Shopping') }}
								</a>
							</div>
							{% endif %}
						</div>
					</div>
				</div>

				<!-- Terms and Conditions -->
				{% if doc.items %}
					{% if doc.terms %}
						<div class="t-and-c-container mt-4 frappe-card">
							<h5>{{ _("Terms and Conditions") }}</h5>
							<div class="t-and-c-terms mt-2">
								{{ doc.terms }}
							</div>
						</div>
					{% endif %}
			</div>

			<!-- Right section -->
			
			{% endif %}
		</div>
	</div>
	<div class="col-md-3 col-12">
				<div class="cart-payment-addresses">
					<!-- Apply Coupon Code  -->
					{% set show_coupon_code = cart_settings.show_apply_coupon_code_in_website and cart_settings.enable_checkout %}
					{% set coupon_code = doc.coupon_code if doc.coupon_code else "" %}

					{% if show_coupon_code == 1%}
						{% if coupon_code %}
							{% include "templates/includes/cart/coupon_code.html" %}
						{% else %}
						<div class="mb-3">
							<div class="d-flex w-100">
								<input type="text" class="txtcoupon form-control mr-3 flex-grow-1 font-md" placeholder="{{ _("Enter coupon code") }}" name="txtcouponcode"  ></input>
								<button class="btn btn-secondary btn-sm bt-coupon font-md flex-shrink-0">{{ _("Apply") }}</button>
								<input type="hidden" class="txtreferral_sales_partner font-md" placeholder="Enter Sales Partner" name="txtreferral_sales_partner" type="text"></input>
								</div>
						</div>
						{% endif %}
					{% endif %}

					<div class="mb-3 frappe-card rounded shadow p-4">
						<div class="payment-summary">
							{% include "templates/includes/cart/cart_payment_summary.html" %}
						</div>

						<div class="place-order">
							{% include "templates/includes/cart/place_order.html" %}
						</div>
					</div>

					{% include "templates/includes/cart/cart_address.html" %}
				</div>
			</div>
{% else %}
<div class="cart-empty frappe-card">
	<div class="cart-empty-state">
		<img src="/assets/webshop_waste/images/cart-empty-state.png" alt="Empty State">
	</div>
	<div class="cart-empty-message mt-4">{{ _('Your cart is Empty') }}</p>
	{% if cart_settings.enable_checkout %}
		<a class="btn btn-outline-primary" href="/orders" style="background-color: #f8f9fa; border-color: #ced4da; color: #570987; font-size: 16px; margin-left: 12px;">
			{{ _('See past orders') }}
		</a>
		{% else %}
		<a class="btn btn-outline-primary" href="/quotations" style="font-size: 16px;">
			{{ _('See past quotations') }}
		</a>
	{% endif %}
</div>
{% endif %}

{% endblock %}

{% block base_scripts %}
<!-- js should be loaded in body! -->
{{ include_script("frappe-web.bundle.js") }}
{{ include_script("controls.bundle.js") }}
{{ include_script("dialog.bundle.js") }}
<script>
	document.addEventListener("DOMContentLoaded", function () {
     const element = document.querySelector('.container.my-4');
      const breadcrumbs = document.querySelector('.page-breadcrumbs');
      const header = document.querySelector('.page-header');
      const pageheader = document.querySelector('.page-header-wrapper');
	  const pagecontent = document.querySelector('.page_content');
	  if(pagecontent){
		pagecontent.classList.add("py-5");
		pagecontent.style.setProperty("background-color", "#EAEDED", "important");
	  }
      if (pageheader){
          pageheader.classList.add('p-0');
      }
      if (header){
          header.style.width = "100%";
      }
      if (breadcrumbs) {
          breadcrumbs.style.display = "none";
      }
      if (element) {
        element.classList.remove('container');
        element.classList.remove('my-4');
        element.classList.add('bg-white');
        }
     }
  )
</script>
{% endblock %}
